(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["UserLoginReg"],{"013f":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"content"},[e("uc-nav",{attrs:{arrow:"gray",bgColor:"transparent",borderWidth:0}}),e("h1"),e("div",{staticClass:"login-box"},[e("p",{staticClass:"lsolid"}),e("div",{staticClass:"login"},[e("router-link",{attrs:{to:"/login"}},[t._v("登录")]),e("span"),e("router-link",{attrs:{to:"/reg"}},[t._v("注册")])],1),e("p",{staticClass:"rsolid"})]),e("div",{staticClass:"input"},[e("uc-input",{attrs:{label:"账号",type:"text"},model:{value:t.username,callback:function(a){t.username=a},expression:"username"}}),e("uc-input",{attrs:{label:"密码",type:"password"},model:{value:t.password,callback:function(a){t.password=a},expression:"password"}}),t._v("\n\t\t"+t._s(t.errMsg)+"\n\t")],1),e("div",{staticClass:"footbox"},[e("Button",{attrs:{text:"登录"},on:{click:t.login}}),e("a",{staticClass:"tishi",attrs:{href:"javascript:;"}},[t._v("忘记密码？")])],1)],1)},n=[],r=(e("a481"),e("2a7d")),i=e("3e30"),o=e("b675"),u={name:"Login",props:{},data:function(){return{username:"",password:"",errMsg:""}},components:{Button:r["a"],UcInput:i["a"],UcNav:o["a"]},mounted:function(){},updated:function(){},methods:{login:function(){var t=this;axios({url:"/api/login",method:"post",data:{username:this.username,password:this.password}}).then(function(a){0==a.data.err?(window.localStorage.setItem("user",JSON.stringify(a.data)),t.$store.commit("user/USER",a.data),t.username=t.password=t.errMsg="",t.$route.query.p?t.$router.replace(t.$route.query.p):t.$router.replace("/user")):t.errMsg=a.data.msg})}}},l=u,c=(e("da41"),e("2877")),p=Object(c["a"])(l,s,n,!1,null,null,null);a["default"]=p.exports},"05c8":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"content"},[e("uc-nav",{attrs:{arrow:"gray",bgColor:"transparent",borderWidth:0}}),e("h1",{on:{click:t.upload}}),e("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"file"}}),e("div",{staticClass:"login-box"},[e("p",{staticClass:"lsolid"}),e("div",{staticClass:"login"},[e("router-link",{attrs:{to:"/login"}},[t._v("登录")]),e("span"),e("router-link",{attrs:{to:"/reg"}},[t._v("注册")])],1),e("p",{staticClass:"rsolid"})]),e("div",{staticClass:"input"},[e("uc-input",{attrs:{label:"账号",type:"text"},model:{value:t.username,callback:function(a){t.username=a},expression:"username"}}),e("uc-input",{attrs:{label:"密码",type:"password"},model:{value:t.password,callback:function(a){t.password=a},expression:"password"}})],1),e("div",{staticClass:"footbox"},[e("Button",{attrs:{text:"注册"},on:{click:t.reg}}),e("a",{staticClass:"tishi",attrs:{href:"javascript:;"}},[t._v("忘记密码？")]),t._v("\n\t\t"+t._s(t.errorMs)+"\n\t")],1)],1)},n=[],r=(e("a481"),e("2a7d")),i=e("3e30"),o=e("b675"),u={name:"Reg",props:{},data:function(){return{username:"",password:"",errorMs:""}},components:{Button:r["a"],UcInput:i["a"],UcNav:o["a"]},mounted:function(){},updated:function(){},methods:{upload:function(){var t=document.getElementById("file");t.click()},reg:function(){var t=this,a=new FormData;a.append("username",this.username),a.append("password",this.password);var e=document.getElementById("file");a.append("icon",e.files[0]),axios({url:"/api/reg",method:"post",data:a}).then(function(a){0===a.data.err?t.$router.replace("/login"):t.errorMs=a.data.msg})}}},l=u,c=(e("361b"),e("2877")),p=Object(c["a"])(l,s,n,!1,null,null,null);a["default"]=p.exports},1347:function(t,a,e){},"1cab":function(t,a,e){},"2a7d":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"Button"},[e("input",{staticClass:"login-btn",style:{background:t.bgColor},attrs:{type:"button",value:t.text},on:{click:function(a){return t.$emit("click")}}})])},n=[],r={name:"Button",props:{text:{type:String,default:"按钮"},bgColor:{type:String,default:"#4c4f50"}},data:function(){return{}},components:{},mounted:function(){},updated:function(){}},i=r,o=(e("8274"),e("2877")),u=Object(o["a"])(i,s,n,!1,null,null,null);a["a"]=u.exports},"2caf":function(t,a,e){"use strict";var s=e("e5dc"),n=e.n(s);n.a},"361b":function(t,a,e){"use strict";var s=e("acfd"),n=e.n(s);n.a},"3e30":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"uc-input"},[e("input",{attrs:{type:t.type},domProps:{value:t.value},on:{input:function(a){return t.$emit("input",a.target.value)}}}),e("span",[t._v(t._s(t.label))])])},n=[],r={name:"uc-input",props:{label:{type:String,default:"标题"},value:{type:String,default:""},type:{type:String,default:"text"}}},i=r,o=(e("e90a"),e("2877")),u=Object(o["a"])(i,s,n,!1,null,null,null);a["a"]=u.exports},8274:function(t,a,e){"use strict";var s=e("1347"),n=e.n(s);n.a},acfd:function(t,a,e){},d843:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"content"},[t.$store.state.user.user.data?e("div",{staticClass:"header"},[e("h2",[e("img",{attrs:{src:t.$baseUrl+t.$store.state.user.user.data.icon,alt:""}})]),e("div",{staticClass:"user-box"},[e("a",[t._v(t._s(t.$store.state.user.user.data.nikename))]),e("a",{attrs:{href:"javascript:;"},on:{click:t.logout}},[t._v("注销")])]),e("ul",{staticClass:"clear"},[e("li",[e("span",[t._v(t._s(t.$store.state.user.user.data.follow))]),e("p",[t._v("关注")])]),e("li",[e("span",[t._v(t._s(t.$store.state.user.user.data.fans))]),e("p",{staticClass:"end"},[t._v("粉丝")])])])]):t._e(),t._m(0)])},n=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"docList"},[e("ul",[e("li",{staticClass:"gk-text"},[e("i"),e("p",[t._v("公开博文")]),e("b"),e("span",[t._v("0")])]),e("li",{staticClass:"mm-text"},[e("i"),e("p",[t._v("秘密博文")]),e("b"),e("span",[t._v("0")])]),e("li",{staticClass:"cg-text"},[e("i"),e("p",[t._v("草稿箱")]),e("b"),e("span",[t._v("0")])]),e("li",{staticClass:"sc-text"},[e("i"),e("p",[t._v("收藏夹")]),e("b"),e("span",[t._v("0")])]),e("li",{staticClass:"my_cz"},[e("i"),e("p",[t._v("收藏夹")])])])])}],r=(e("1a58"),{beforeRouteEnter:function(t,a,e){axios({url:"/api/user"}).then(function(t){0==t.data.err?(console.log("res",t.data),e()):e("/login")})},name:"User",props:{},data:function(){return{user:{}}},components:{},mounted:function(){},updated:function(){},methods:{logout:function(){window.localStorage.removeItem("user"),this.$store.commit("user/USER",{err:1}),this.$router.push("/login")}}}),i=r,o=(e("2caf"),e("2877")),u=Object(o["a"])(i,s,n,!1,null,"d1c5eabe",null);a["default"]=u.exports},da41:function(t,a,e){"use strict";var s=e("1cab"),n=e.n(s);n.a},e545:function(t,a,e){},e5dc:function(t,a,e){},e90a:function(t,a,e){"use strict";var s=e("e545"),n=e.n(s);n.a}}]);
//# sourceMappingURL=UserLoginReg.35c98a48.js.map